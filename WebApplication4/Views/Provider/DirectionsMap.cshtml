@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <title>Map with Directions</title>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        var CustomerLatitude = '@ViewBag.CustomerLatitude';
        var CustomerLongitude = '@ViewBag.CustomerLongitude';
        var ProviderLatitude = 32.55556;
        var ProviderLongitude = 35.85;
      
        console.log("c"+CustomerLatitude, "c"+CustomerLongitude, "p"+ProviderLatitude, "p"+ProviderLongitude);
        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: CustomerLatitude, lng: CustomerLongitude }, // Center the map on the customer location
                zoom: 10
            });

            // Add marker for customer location
            var customerMarker = new google.maps.Marker({
                position: { lat: CustomerLatitude, lng: CustomerLongitude },
                map: map,
                title: 'Customer Location'
            });

            // Add marker for provider location
            var providerMarker = new google.maps.Marker({
                position: { lat: ProviderLatitude, lng: ProviderLongitude },
                map: map,
                title: 'Provider Location'
            });

            // Calculate and display route between customer and provider
            var directionsService = new google.maps.DirectionsService();
            var directionsDisplay = new google.maps.DirectionsRenderer();
            directionsDisplay.setMap(map);

            var origin = new google.maps.LatLng(CustomerLatitude, CustomerLongitude);
            var destination = new google.maps.LatLng(ProviderLatitude, ProviderLongitude);

            var request = {
                origin: origin,
                destination: destination,
                travelMode: 'DRIVING'
            };
            directionsService.route(request, function (response, status) {
                if (status == 'OK') {
                    directionsDisplay.setDirections(response);
                } else {
                    window.alert('Directions request failed due to ' + status);
                }
            });
        }
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDqKihuufy48m67PFomfe8wleHj8nRxdGI&callback=initMap" async defer></script>
</body>
</html>
